<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title></title>
    <link rel="stylesheet" href="css/weuix.min.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/zepto.fullpage.css">
    <link rel="stylesheet" href="css/animations.css">
    <!--<link rel="stylesheet" href="css/animate.css">-->
    <script src="./js/recruitH5-vendor-0.1.0.js"></script>
    <link rel="stylesheet" href="css/firstTothird.css">
</head>
<body>
    <div class="wp">
        <div class="wp-inner">
            <div class="page page1">
                <div class="js-animate first_recruitLogo" data-animate="enterFromRight" data-delay=".1s" ></div>
                <div class="js-animate first_logo" data-animate="fadeIn" data-delay="1.1s"></div>
                <div class="js-animate first_arrow" data-animate="enterFromLeft" data-delay=".6s"></div>
                <div class="js-animate first_earth" data-animate="rubberBand" data-delay="2s"></div>
                <div class="js-animate first_slogan" data-animate="slideUp" data-delay="2.6s"></div>
            </div>
           <div class="page page2">
                <div class="js-animate second_pic1"  data-animate="fadeIn" data-delay=".1s"></div>
                <div class="js-animate second_pic2"  data-animate="fadeInDelay" data-delay=".9s"></div>
                <div class="js-animate second_title"  data-animate="enterFromLeft" data-delay="1.7s"></div>
                <div class="js-animate second_info"  data-animate="fadeIn" data-delay="2.3s">
                    <span>首期开放30余个职位</span>
                    <span>欢迎举荐！与人玫瑰，手有余香！</span>
                </div>
                <div class="js-animate second_slogen1"  data-animate="enterFromLeft" data-delay="3s"></div>
                <div class="js-animate second_slogen2"  data-animate="enterFromRight" data-delay="3.4s"></div>
                <div class="js-animate second_slogen3"  data-animate="enterFromLeft"data-delay="3.8s"></div>
            </div>
            <div class="page page3">
                <div class="js-animate jobList1 jobList animated" data-animate="fadeInRight" data-delay=".1s"></div>
                <div class="js-animate jobList2 jobList animated" data-animate="bounceInUp" data-delay=".8s"></div>
                <div class="js-animate jobList3 jobList animated" data-animate="fadeInRight" data-delay="1.5s"></div>
                <div class="js-animate jobList4 jobList animated" data-animate="bounceInUp" data-delay="2.2s"></div>
                <div class="js-animate jobList5 jobList animated" data-animate="slideUp" data-delay="2.9s"></div>
                <div class="js-animate jobList6 jobList animated" data-animate="fadeIn" data-delay="3s"></div>
            </div>
            <div class="page page4">
                <div class="js-animate" data-animate="fadeIn" data-delay=".1s">
                    <div class="banner"></div>
                </div>
                <div class="js-animate"  data-animate="enterFromLeft" data-delay=".7s">
                    <div class="first-title"></div>
                </div>
                <div class="js-animate"  data-animate="fadeIn" data-delay="1.4s">
                    <div class="second-title">
                        <div>选对行业嫁对郎 ,</div>
                        <div>开开心心过生活 !</div>
                    </div>
                </div>
                <div>
                    <div class="bottom-banner">
                        <div class="first js-animate" data-animate="enterFromLeft" data-delay="2.2s"></div>
                        <div class="second js-animate" data-animate="enterFromRight" data-delay="2.6s"></div>
                        <div class="third js-animate" data-animate="enterFromLeft" data-delay="3s"></div>
                    </div>
                </div>
            </div>
            <div class="page page5">
                <div class="js-animate" data-animate="fadeIn" data-delay=".1s">
                    <div class="banner"></div>
                </div>
                <div class="js-animate" data-animate="enterFromLeft" data-delay=".7s">
                    <div class="first-title">
                    </div>
                </div>
                <div class="js-animate"  data-animate="fadeIn" data-delay="1.4s">
                    <div class="second-title" >
                        <div>法定该有的都有！我们还有</div>
                        <div>薪酬极具竞争力</div>
                        <div>利人、达己、宽容、快乐的企业文化！</div>
                    </div>
                </div>
                <div>
                    <div class="bottom-banner">
                        <div class="first js-animate" data-animate="enterFromLeft" data-delay="2.2s"></div>
                        <div class="second js-animate" data-animate="enterFromRight" data-delay="2.6s"></div>
                        <div class="third js-animate" data-animate="enterFromLeft" data-delay="3s"></div>
                    </div>
                </div>
            </div>
            <div class="page page6">
                <div class="title">
                    <div class="js-animate title-logo" data-animate="fadeIn"></div>
                    <div class="js-animate title-info" data-animate="slideLeft"></div>
                </div>
                <div class="js-animate form-list" data-animate="fadeIn" data-delay = "0.2s">
                    <select name="job" id="job">
                        <option value="">意向职位</option>
                        <!-- <option value="Java">Java</option>
                        <option value="H5">H5</option>
                        <option value="UI">UI</option>
                        <option value="UE">UE</option>
                        <option value="PM">PM</option>
                        <option value="IT运维">IT运维</option>
                        <option value="BD（基层公共卫生）">BD（基层公共卫生）</option>
                        <option value="需求分析">需求分析</option>
                        <option value="交互设计">交互设计</option>
                        <option value="运营服务">运营服务</option>
                        <option value="测试">测试</option>
                        <option value="人力行政">人力行政</option> -->
                    </select>
                    <input class = "js-animate" data-animate="enterFromRight" data-delay = ".4s" type="text" name="name" placeholder="姓名">
                    <input class = "js-animate" data-animate="enterFromRight" data-delay = ".6s" type="text" name="phone" maxlength="11" placeholder="手机">
                    <input class = "js-animate" data-animate="enterFromRight" data-delay = ".9s" type="text" name="wxNum" placeholder="微信/QQ">
                    <input class = "js-animate" data-animate="enterFromRight" data-delay = "1.1s" type="button" value="提交信息">
                </div>
                <div class="footer js-animate" data-animate="fadeIn" data-delay="1.6s">
                    <div class="js-animate footer-img" data-animate="rubberBand" data-delay="1.6s"></div>
                    <div class="js-animate footer-info" data-animate="fadeIn" data-delay="1.8s">
                        <p>网址：www.grdoc.org</p>
                        <p>电话：010-68118759</p>
                        <p>简历邮箱：hr@grdoc.com</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <span class="start"><b></b></span>
    <!-- <script src="js/zepto.js"></script> -->
    <!-- <script src="../src/zepto.fullpage.js"></script> -->
    
    <script>
        (function(win,doc){
            win.addEventListener('resize',change,false);
            function change(){
                doc.documentElement.style.fontSize = doc.documentElement.clientWidth*20/320+'px';
            }
            change();
        })(window,document);
        //加载下拉列表
        $(function(){

           
            $.get("http://recruitment.test.grdoc.org/api/job/list",function(res){
                    var _data = res.data;
                    var html="";
                    for(var i= 0;i<_data.length;i++){
                        html += '<option value="'+_data[i].id+'">'+_data[i].name+'</option>';
                    }
                    $("#job").append(html);
            })
        })
        $('.wp-inner').fullpage({
            change: function (e) {
                // 移除动画属性
                // console.log(e.cur)
                $('.page').eq(e.cur).find('.js-animate').each(function() {
                    $(this).hide().removeClass($(this).data('animate')).hide();
                });
            },
            afterChange: function (e) {
                // 添加动画属性
                // console.log(e)
                if(e.cur=="5"){
                    $(".start").hide();
                }else{
                    $(".start").show()
                }
                $('.page').eq(e.cur).find('.js-animate')
                    .each(function () {
                        $(this).show().css("animation-delay",$(this).data('delay')).addClass($(this).data('animate'));
                        // $(".form-list:after").show();
                    });
            }
        });
        $(".form-list input[type=button]").on("click",function(){

            // $(this).css("background","#0e86bd");
             $(this).attr('disabled','disabled');
        }).on("click",function(){
            var isPhone = /^(0|86|17951)?(1[0-9])[0-9]{9}$/;
            var _this=$(this);
            var job = $("#job").val(),
                name = $("input[name='name']").val(),
                phone = $("input[name='phone']").val(),
                wxNum = $("input[name='wxNum']").val();
            if(job&&name&&phone){
                if(!phone.match(isPhone)){
                    $.alert("","手机号格式错误！");
                     _this.removeAttr('disabled');
                    return;
                }
                $.ajax({
                    url:"http://recruitment.test.grdoc.org/api/apply/apply",
                    type: "POST",
                    async:true,
                    data: {
                        "job_id":job,
                        "name":name,
                        "phone":phone,
                        "im_account":wxNum
                    },
                    success:function(data){
                        // _this.css("background","#00a0e9");
                        _this.removeAttr('disabled');
                        if(data&&data.code!=200){
                            $.alert("",data.message.phone[0])
                            // console.log("不是222");
                        }else{
                            $.alert("","提交成功,我们会尽快与您联系！")
                        }
                    },
                    error: function(){
                      
                        _this.removeAttr('disabled');
                        alert("服务器繁忙");
                    }
                });
            }else{
                // $(".warn-mask").show();
                // _this.css("background","#00a0e9");
                _this.removeAttr('disabled');
                $.alert("","请完善您的求职信息")
            };  
        })
        
    </script>
</body>
</html>
